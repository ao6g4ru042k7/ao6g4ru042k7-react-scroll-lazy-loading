{"version":3,"sources":["components/table/table.module.scss","components/spinner/spinner.module.scss","components/table/table.js","components/spinner/spinner.js","App.js","utils/scroll.js","index.js"],"names":["module","exports","table","dataList","className","classes","map","data","name","html_url","updated_at","id","spinner","loader","App","useState","setDataList","showLen","setShowLen","useEffect","$","ajax","then","res","len","scrollHandler","scrollHeight","Math","max","document","documentElement","body","scrollTop","window","pageYOffset","innerHeight","min","clientHeight","isScrollInBottom","length","removeEventListener","addEventListener","com","slice","ReactDOM","render","StrictMode","getElementById"],"mappings":"oFACAA,EAAOC,QAAU,CAAC,MAAQ,uB,gBCA1BD,EAAOC,QAAU,CAAC,OAAS,wBAAwB,MAAQ,yB,gKCsB5CC,EAtBD,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACb,OACE,wBAAOC,UAAWC,IAAQH,MAA1B,UACE,gCACE,+BACE,wCACA,sCACA,2CAGJ,gCACGC,EAASG,KAAI,SAACC,GAAD,OACZ,+BACE,6BAAKA,EAAKC,OACV,6BAAKD,EAAKE,WACV,6BAAKF,EAAKG,eAHHH,EAAKI,a,gBCXXC,EADC,kBAAM,qBAAKR,UAAWC,IAAQQ,OAAxB,yB,gBCwDPC,MAhDf,WAAgB,IAAD,EACmBC,mBAAS,MAD5B,mBACNZ,EADM,KACIa,EADJ,OAEiBD,mBAAS,IAF1B,mBAENE,EAFM,KAEGC,EAFH,KAIbC,qBAAU,WACRC,IAAEC,KAPM,sDAOIC,MAAK,SAACC,GAChBP,EACEO,EAAIjB,KAAI,SAACC,GACP,MAAO,CACLI,GAAIJ,EAAKI,GACTH,KAAMD,EAAKC,KACXC,SAAUF,EAAKE,SACfC,WAAYH,EAAKG,qBAKxB,IAEHS,qBAAU,WACR,GAAIhB,EAAU,CACZ,IAAIqB,EAAM,GACJC,EAAgB,SAAhBA,KC5BoB,WAE5B,IAAMC,EAAeC,KAAKC,IAAIC,SAASC,gBAAgBJ,aAAcG,SAASE,KAAKL,cAE7EM,EAAYC,OAAOC,aAAeL,SAASC,gBAAgBE,WAAaH,SAASE,KAAKC,UAI5F,OAFqBC,OAAOE,aAAeR,KAAKS,IAAIP,SAASC,gBAAgBO,aAAcR,SAASE,KAAKM,eAEnFL,GAAaN,GDqB3BY,MACFd,GAAO,IACGrB,EAASoC,QACjBf,EAAMrB,EAASoC,OACfN,OAAOO,oBAAoB,SAAUf,IAErCP,EAAWM,KAKjB,OADAS,OAAOQ,iBAAiB,SAAUhB,GAC3B,WACLQ,OAAOO,oBAAoB,SAAUf,OAGxC,CAACtB,IAEJ,IAAMuC,EAAMvC,EAAW,cAAC,EAAD,CAAOA,SAAUA,EAASwC,MAAM,EAAG1B,KAAe,cAAC,EAAD,IACzE,OACE,qBAAKb,UAAU,MAAf,SACGsC,KE/CPE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFjB,SAASkB,eAAe,W","file":"static/js/main.209277e8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table_table__22P7A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"spinner_loader__3pTDq\",\"load4\":\"spinner_load4__xetmO\"};","import classes from \"./table.module.scss\";\nconst table = ({ dataList }) => {\n    return (\n      <table className={classes.table}>\n        <thead>\n          <tr>\n            <th>Region</th>\n            <th>Town</th>\n            <th>Name</th>\n          </tr>\n        </thead>\n        <tbody>\n          {dataList.map((data) => (\n            <tr key={data.id}>\n              <td>{data.name}</td>\n              <td>{data.html_url}</td>\n              <td>{data.updated_at}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    );\n}\nexport default table","import classes from \"./spinner.module.scss\"\nconst spinner = () => <div className={classes.loader}>Loading...</div>\nexport default spinner","import './App.css';\nimport { useEffect, useState } from 'react'\nimport Table from './components/table/table'\nimport Spinner from './components/spinner/spinner'\nimport { isScrollInBottom } from './utils/scroll'\nimport $ from \"jquery\";\n\nconst url = \"https://api.github.com/users/mschwarzmueller/repos\";\n\nfunction App() {\n  const [dataList, setDataList] = useState(null)\n  const [showLen, setShowLen] = useState(10)\n  \n  useEffect(() => {\n    $.ajax(url).then((res) => {\n      setDataList(\n        res.map((data) => {\n          return {\n            id: data.id,\n            name: data.name,\n            html_url: data.html_url,\n            updated_at: data.updated_at,\n          };\n        })\n      );\n    });\n  }, [])\n\n  useEffect(() => {\n    if (dataList) {\n      let len = 10\n      const scrollHandler = () => {\n        if (isScrollInBottom()) {\n          len += 10\n          if (len > dataList.length) {\n            len = dataList.length\n            window.removeEventListener('scroll', scrollHandler)\n          } else {\n            setShowLen(len)\n          }\n        }\n      }\n      window.addEventListener('scroll', scrollHandler)\n      return () => {\n        window.removeEventListener('scroll', scrollHandler)\n      }\n    }\n  }, [dataList])\n\n  const com = dataList ? <Table dataList={dataList.slice(0, showLen)} /> : <Spinner />\n  return (\n    <div className=\"App\">\n      {com}\n    </div>\n  );\n}\n\nexport default App;\n","/**\n * 滾輪是否在底部\n */\nexport const isScrollInBottom = () => {\n    //文檔內容實際高度（包括超過窗口的重疊部分）\n    const scrollHeight = Math.max(document.documentElement.scrollHeight, document.body.scrollHeight);\n    //滾動條滾動距離\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n    //窗口可視範圍高度\n    const clientHeight = window.innerHeight || Math.min(document.documentElement.clientHeight, document.body.clientHeight);\n    //返回滾輪是否在底部\n    return clientHeight + scrollTop >= scrollHeight\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}